# riot_test
gulp + webpack + riot + stylus の環境


## 概要
gulp + webpack + riot + stylus の簡単なサンプルです。  
riot.js を動かす目的でつくりましたが、  
一通りのHTML, CSS も生成できるのでプロジェクトのベースとしても利用できます。

| モジュール        | 役割          |
| --------------- |:---------------|
| gulp | webpack, stylus からcss 生成,HTML ファイルのコピー、ファイル更新監視、ブラウザ更新   |
| webpack | riot.js のプリコンパイル、jsでbabelを使えるようにする、ローカルでrequire を使えるようにする   |
| stylus | node ベースのCSSプリプロセッサ   |

## フォルダ構成

src - ソース置き場。実際に作業を行うのはこちらです  
release - 生成したコード置き場。ブラウザに読ませるのはこちらです。  
gulp - gulpで行う処理の設定  
node_modules - ```npm update ``` 後に生成されるディレクトリです。

## 使い方

1. node.js をローカルPCで動くようにしてください。
2. gulp を動くようにしてください。
3. このリポジトリからファイル一式を取得します。
4. ``` npm update ``` コマンドでnode モジュールをインストールしてください。
5. コマンドラインに ``` gulp ``` と入力し、gulp を起動します。
6. ブラウザが勝手に立ち上がります。release ディレクトリに移動すると現在のコードが確認できます。（初回はreleaseディレクトリがないためエラーにります）
7. src内の各ファイルを更新すると、更新を検知してブラウザがリロードされます。

※1 初回起動時は release ディレクトリがないため、何も表示されないと思います。  
index.html, 何かのjsファイル, all.styl あたりを適当に更新すると  
release ディレクトリに処理を通したファイルがコピーされます。

※2 1, 2までがかなり面倒です。。

## ご注意

### riot.js がnpm でインストールできないとき

``` npm install riot ``` で失敗することがありました。
そのときは、
```
npm info riot versions
```
でバージョン一覧を表示し、下記のように最新安定版を指定してインストールをしてみてください。

```
npm install riot@2.6.1 --save-dev
```

### 画像を使うとき

直接release ディレクトリに画像用ディレクトリを設置し、
そちらにファイルを置いてください。
